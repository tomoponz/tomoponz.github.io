<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tomoponzï½œãƒ‰ã‚¢</title>
  <meta name="description" content="ãƒ‰ã‚¢ã‚’é–‹ã‘ã‚‹ã¨ä¸–ç•Œã®ã©ã“ã‹ã¸ãƒ¯ãƒ¼ãƒ—ï¼ˆç„¡æ–™ï¼‰">

  <link rel="stylesheet" href="style.css">
  <script defer src="app.js"></script>
  <script defer src="places.js"></script>
  <script defer src="portal.js"></script>

  <style>
    #fade{
      position:fixed; inset:0;
      background:#000;
      opacity:0;
      pointer-events:none;
      transition: opacity .45s ease;
      z-index:9999;
    }
    .fadeIn{ opacity:1 !important; }

    .doorStage{
      display:grid;
      place-items:center;
      min-height: 420px;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      box-shadow: 0 18px 70px rgba(0,0,0,.28);
      position: relative;
      overflow:hidden;
    }
    #fxCanvas{
      position:absolute; inset:0;
      width:100%; height:100%;
      pointer-events:none;
    }

    .doorWrap{
      width:min(520px, 100%);
      display:grid;
      place-items:center;
      padding: 26px 18px;
      gap: 14px;
      position: relative;
      z-index: 2;
    }
    .bigDoor{
      width:min(320px, 90%);
      aspect-ratio: 3/4;
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(140px 140px at 30% 25%, rgba(124,203,255,.22), transparent 60%),
        radial-gradient(180px 180px at 70% 70%, rgba(124,255,178,.16), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: 0 24px 80px rgba(0,0,0,.35);
      display:grid;
      place-items:center;
      position: relative;
      overflow:hidden;
    }
    .bigDoor:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(420px 260px at 50% 120%, rgba(182,156,255,.20), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .knob{
      position:absolute;
      right: 18%;
      top: 52%;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: rgba(255,210,124,.85);
      box-shadow: 0 0 0 3px rgba(255,210,124,.18), 0 0 30px rgba(255,210,124,.18);
      border:1px solid rgba(255,255,255,.22);
    }

    .doorBtn{
      width: min(360px, 100%);
      font-weight: 800;
      letter-spacing: .04em;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(124,255,178,.32);
      box-shadow: 0 0 0 3px rgba(124,255,178,.10);
      background: rgba(255,255,255,.05);
    }

    /* opening animï¼ˆCSSã ã‘ï¼‰ */
    .doorWrap.opening .bigDoor{
      animation: doorPulse .55s ease forwards;
    }
    @keyframes doorPulse{
      0%{ transform: scale(1); filter: brightness(1); }
      45%{ transform: scale(1.03); filter: brightness(1.18); }
      100%{ transform: scale(1.00); filter: brightness(1); }
    }

    .fxRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center}
    .fxPill{display:inline-flex; gap:8px; align-items:center}
  </style>
</head>

<body>
  <div id="fade" aria-hidden="true"></div>

  <!-- çµ±ä¸€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <header class="nav">
    <a class="brand" href="index.html" aria-label="tomoponz ãƒ›ãƒ¼ãƒ ">
      <span class="logo" aria-hidden="true"></span>
      <span class="brandText">
        <span class="brandName">tomoponz</span>
        <span class="brandSub" id="brandSub"></span>
      </span>
    </a>

    <nav class="navlinks" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <a class="chip" href="index.html">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a class="chip" href="omikuji.html">ãŠã¿ãã˜</a>
      <a class="chip" href="shindan.html">è¨ºæ–­</a>
      <a class="chip" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
      <a class="chip" href="links.html">ãƒªãƒ³ã‚¯</a>
      <a class="chip" href="games.html">ã‚²ãƒ¼ãƒ </a>
      <a class="chip" href="door.html">ãƒ‰ã‚¢</a>
      <a class="chip" href="hachi.html">å…«ç™¾ç§‘äº‹å…¸</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1 class="h1">ãƒ‰ã‚¢</h1>
      <p class="sub">æŠ¼ã™ã ã‘ã§ä¸–ç•Œã®ã©ã“ã‹ã¸ãƒ¯ãƒ¼ãƒ—ï¼ˆç„¡æ–™ï¼‰ã€‚</p>
      <div class="note">åŠ¹æœéŸ³ã¨ç²’å­ã¯ON/OFFã§ãã‚‹ã€‚ã‚¹ãƒãƒ›ã§ã‚‚å‹•ãã€‚</div>
    </section>

    <section class="grid2" style="margin-top:12px">
      <div class="card">
        <h2>å…¥å£</h2>

        <div class="doorStage" id="doorStage">
          <canvas id="fxCanvas"></canvas>

          <!-- portal.js ãŒæ´ã‚€è¦ç´  -->
          <div class="doorWrap" id="doorWrap">
            <div class="bigDoor" aria-hidden="true">
              <div class="knob" aria-hidden="true"></div>
              <div class="muted" style="position:relative; z-index:2; text-align:center">
                <b>UNKNOWN DOOR</b><br><small>press to warp</small>
              </div>
            </div>

            <button class="doorBtn" id="doorBtn">ãƒ‰ã‚¢ã‚’é–‹ãï¼ˆãƒ¯ãƒ¼ãƒ—ï¼‰</button>

            <div class="fxRow">
              <span class="pill fxPill">ğŸ”Š Soundï¼š<b id="fxSoundState">ON</b></span>
              <button onclick="toggleFxSound()">åˆ‡æ›¿</button>

              <span class="pill fxPill">âœ¨ Particlesï¼š<b id="fxParticlesState">ON</b></span>
              <button onclick="toggleFxParticles()">åˆ‡æ›¿</button>
            </div>
          </div>
        </div>

        <div class="note" style="margin-top:12px">
          ä»•çµ„ã¿ï¼šãƒ¯ãƒ¼ãƒ—å…ˆã¯ <code>places.js</code> ã®ãƒªã‚¹ãƒˆã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã€‚åœ°å›³ã¯OSMã€èª¬æ˜ã¯Wikipediaã€‚
        </div>
      </div>

      <div class="card">
        <h2>éŠã³æ–¹ï¼ˆå‹é”ç”¨ï¼‰</h2>
        <ul class="list">
          <li>ã€Œãƒ‰ã‚¢ã‚’é–‹ãã€æŠ¼ã›ã€‚</li>
          <li>ãƒ¯ãƒ¼ãƒ—å…ˆãƒšãƒ¼ã‚¸ã§ã€Œã‚‚ã†ä¸€å›ãƒ¯ãƒ¼ãƒ—ã€é€£æ‰“ã§ä¸–ç•Œæ—…è¡Œã€‚</li>
          <li>ãƒ­ã‚°ãŒæ®‹ã‚‹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰ã€‚æ¶ˆã—ãŸã‘ã‚Œã°ãƒ­ã‚°æ¶ˆå»ã€‚</li>
        </ul>
        <hr class="sep">
        <div class="btnrow">
          <a class="btn primary" href="warp.html">ãƒ¯ãƒ¼ãƒ—å…ˆï¼ˆç›´ï¼‰</a>
          <a class="btn" href="gallery.html">ãƒã‚¿ç½®ãå ´ã¸</a>
        </div>
      </div>
    </section>

    <div class="footer">Â© tomoponz / Door</div>
  </main>
</body>
</html>
