<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tomoponzï½œãƒ‰ã‚¢</title>
  <meta name="description" content="æŠ¼ã™ã ã‘ã§ä¸–ç•Œã®ã©ã“ã‹ã¸ãƒ¯ãƒ¼ãƒ—ï¼ˆç„¡æ–™ï¼‰">

  <link rel="stylesheet" href="style.css">
  <script defer src="app.js"></script>

  <!-- é‡è¦ï¼šã“ã®é †ç•ªã§ -->
  <script defer src="places.js"></script>
  <script defer src="portal.js"></script>

  <style>
    /* ãƒ‰ã‚¢æ¼”å‡ºï¼ˆã“ã®ãƒšãƒ¼ã‚¸ã ã‘ï¼‰ */
    #fade{
      position:fixed; inset:0;
      background:#000;
      opacity:0;
      pointer-events:none;
      transition: opacity .45s ease;
      z-index:9999;
    }
    .fadeIn{ opacity:1 !important; }

    .doorWrap{
      position:relative;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      box-shadow: 0 18px 60px rgba(0,0,0,.25);
      padding:18px;
      overflow:hidden;
      min-height: 260px;
      display:grid;
      place-items:center;
    }
    #fxCanvas{
      position:absolute; inset:0;
      width:100%; height:100%;
      pointer-events:none;
    }
    .doorBtn{
      width:min(420px, 100%);
      padding:18px 16px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.04);
      color: rgba(234,241,255,.92);
      cursor:pointer;
      transition:.18s ease;
      display:grid;
      gap:10px;
      text-align:center;
      user-select:none;
    }
    .doorBtn:hover{ background:rgba(255,255,255,.08); transform: translateY(-1px); }
    .doorFace{
      margin:0 auto;
      width: 160px;
      height: 200px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(240px 160px at 20% 10%, rgba(124,203,255,.16), transparent 55%),
        radial-gradient(220px 160px at 90% 20%, rgba(182,156,255,.16), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      position:relative;
      box-shadow: 0 20px 70px rgba(0,0,0,.35);
    }
    .doorKnob{
      position:absolute;
      right:18px; top: 98px;
      width: 18px; height: 18px;
      border-radius:50%;
      background: rgba(255,210,124,.85);
      box-shadow: 0 0 0 3px rgba(255,210,124,.12);
    }
    .doorText{ font-weight:800; letter-spacing:.04em; }
    .doorHint{ font-size:13px; color: rgba(234,241,255,.76); }

    /* é–‹ãæ¼”å‡º */
    .opening .doorBtn{
      transform: scale(0.98);
      filter: brightness(1.08);
    }
    .opening .doorFace{
      transform-origin: left center;
      animation: doorOpen .55s ease forwards;
    }
    @keyframes doorOpen{
      0%{ transform: perspective(800px) rotateY(0deg); }
      100%{ transform: perspective(800px) rotateY(-55deg); }
    }
  </style>
</head>

<body>
  <div id="fade" aria-hidden="true"></div>

  <!-- çµ±ä¸€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <header class="nav">
    <a class="brand" href="index.html" aria-label="tomoponz ãƒ›ãƒ¼ãƒ ">
      <span class="logo" aria-hidden="true"></span>
      <span class="brandText">
        <span class="brandName">tomoponz</span>
        <span class="brandSub" id="brandSub"></span>
      </span>
    </a>

    <nav class="navlinks" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <a class="chip" href="index.html">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a class="chip" href="omikuji.html">ãŠã¿ãã˜</a>
      <a class="chip" href="shindan.html">è¨ºæ–­</a>
      <a class="chip" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
      <a class="chip" href="links.html">ãƒªãƒ³ã‚¯</a>
      <a class="chip" href="games.html">ã‚²ãƒ¼ãƒ </a>
      <a class="chip" href="door.html">ãƒ‰ã‚¢</a>
      <a class="chip" href="hachi.html">å…«ç™¾ç§‘äº‹å…¸</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1 class="h1">ãƒ‰ã‚¢</h1>
      <p class="sub">æŠ¼ã›ã°ãƒ¯ãƒ¼ãƒ—ã€‚ç„¡æ–™ã€‚éµãªã—ã€‚</p>

      <div class="btnrow">
        <button onclick="toggleFxSound()">åŠ¹æœéŸ³ï¼š<b id="fxSoundState">ON</b></button>
        <button onclick="toggleFxParticles()">ç²’å­ï¼š<b id="fxParticlesState">ON</b></button>
        <a class="btn" href="warp.html">ãƒ¯ãƒ¼ãƒ—å…ˆï¼ˆç›´ï¼‰</a>
      </div>

      <div class="note" style="margin-top:12px">
        åå¿œã—ãªã„æ™‚ã¯ã€ã¾ãš <b>places.js ãŒèª­ã‚ã¦ã‚‹ã‹</b>ï¼ˆPLACESãŒç©ºã˜ã‚ƒãªã„ã‹ï¼‰ã‚’ç–‘ãˆã€‚
      </div>
    </section>

    <section class="grid2" style="margin-top:12px">
      <div class="card">
        <h2>ğŸšª Door</h2>
        <div class="doorWrap" id="doorWrap">
          <canvas id="fxCanvas"></canvas>

          <!-- portal.js ãŒã“ã®ãƒœã‚¿ãƒ³ã« click ã‚’ä»˜ã‘ã‚‹ -->
          <button class="doorBtn" id="doorBtn">
            <div class="doorFace" aria-hidden="true"><span class="doorKnob"></span></div>
            <div class="doorText">ãƒ‰ã‚¢ã‚’é–‹ã</div>
            <div class="doorHint">ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ— â†’ æš—è»¢ â†’ warp.html ã¸</div>
          </button>
        </div>

        <hr class="sep">
        <div class="note">ã‚¹ãƒãƒ›ã§ã‚‚OKã€‚åŠ¹æœéŸ³ã¯åˆå›ã‚¯ãƒªãƒƒã‚¯å¾Œã«é³´ã‚‹ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ä»•æ§˜ï¼‰ã€‚</div>
      </div>

      <div class="card">
        <h2>Warp Logï¼ˆæœ€è¿‘ï¼‰</h2>
        <ul class="list" id="warpLogShort"></ul>
        <div class="btnrow">
          <button onclick="clearWarpLog()">ãƒ­ã‚°æ¶ˆå»</button>
          <a class="btn" href="warp.html">ãƒ­ã‚°è©³ç´°ã¯ãƒ¯ãƒ¼ãƒ—å…ˆ</a>
        </div>
      </div>
    </section>

    <div class="footer">Â© tomoponz / Door</div>
  </main>
</body>
</html>
