<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Aero OS 2007</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <img src="../img/rainbow.png" class="bg-element rainbow" alt="Rainbow">
  <div class="clouds">
    <img src="../img/cloud.png" class="bg-element cloud cloud-1" alt="Cloud">
    <img src="../img/cloud.png" class="bg-element cloud cloud-2" alt="Cloud">
  </div>
  <img src="../img/dolphin.png" class="bg-element dolphin" alt="Dolphin">
  <div class="aero-bg"></div>
  <div class="bubbles-container">
    <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
    <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  </div>

  <div class="desktop-icons">
    <div class="icon" ondblclick="openAeroWindow('welcome-win')" onclick="if(window.innerWidth<=600) openAeroWindow('welcome-win')">
      <img src="../img/globe.png" class="desktop-img" alt="Network">
      <span>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</span>
    </div>
    <div class="icon" ondblclick="location.href='../liminal/index.html'" onclick="if(window.innerWidth<=600) location.href='../liminal/index.html'">
      <div class="glossy-orb folder-orb"></div>
      <span>å¤ã„è¨˜éŒ² (Level 0)</span>
    </div>
    <div class="icon" ondblclick="location.href='../vaporwave/index.html'" onclick="if(window.innerWidth<=600) location.href='../vaporwave/index.html'">
      <div class="glossy-orb disk-orb"></div>
      <span>ï¼¶ ï¼© ï¼² ï¼´ ï¼µ ï¼¡ ï¼¬</span>
    </div>
  </div>

  <div class="sidebar-gadgets">
    <div class="gadget clock-gadget">
      <div class="clock-face">
        <div class="hand hour" id="hour-hand"></div>
        <div class="hand minute" id="minute-hand"></div>
        <div class="hand second" id="second-hand"></div>
        <div class="center-dot"></div>
      </div>
    </div>
  </div>

  <div class="aero-window panel-bg" id="welcome-win" onmousedown="bringToFront('welcome-win')">
    <div class="title-bar">
      <div class="title-text"><span class="title-icon">âœ¨</span> ã‚¦ã‚§ãƒ«ã‚«ãƒ  ã‚»ãƒ³ã‚¿ãƒ¼</div>
      <div class="window-controls">
        <button class="ctrl-btn min-btn">â€”</button>
        <button class="ctrl-btn max-btn">â–¡</button>
        <button class="ctrl-btn close-btn" onclick="closeAeroWindow('welcome-win')">âœ•</button>
      </div>
    </div>
    <div class="window-content semi-transparent">
      <div class="content-header">
        <h2>Aero OS 2007 ã¸ã‚ˆã†ã“ã</h2>
        <p>è‡ªç„¶ã¨ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãŒèåˆã—ãŸã€ç†æƒ³éƒ·ï¼ˆãƒ¦ãƒ¼ãƒˆãƒ”ã‚¢ï¼‰ã¸ã€‚</p>
      </div>
      <div class="content-body">
        <div class="feature-box">
          <h3>ğŸ’§ æ°´æ»´ã‚¬ãƒ©ã‚¹ãƒ‘ãƒãƒ«</h3>
          <p>æ–°ã—ãæ­è¼‰ã•ã‚ŒãŸã€æ¿¡ã‚ŒãŸã‚¬ãƒ©ã‚¹ã®ã‚ˆã†ãªç¾ã—ã„UIã€‚</p>
        </div>
        <div class="feature-box">
          <h3>ğŸ¬ Frutiger Aero</h3>
          <p>æ¾„ã¿åˆ‡ã£ãŸé’ç©ºã€é€ãé€šã‚‹æ°´ã€ãã—ã¦ã‚¤ãƒ«ã‚«ã€‚2000å¹´ä»£ã®å¤¢ã€‚</p>
        </div>
      </div>
    </div>
  </div>

  <div class="aero-window" id="ie-win" style="display: none; top: 40%; left: 45%; width: 600px; height: 400px;" onmousedown="bringToFront('ie-win')">
    <div class="glass-highlight"></div>
    <div class="title-bar">
      <div class="title-text"><span class="title-icon">ğŸŒ</span> Windows Internet Explorer</div>
      <div class="window-controls">
        <button class="ctrl-btn min-btn">â€”</button>
        <button class="ctrl-btn max-btn">â–¡</button>
        <button class="ctrl-btn close-btn" onclick="closeAeroWindow('ie-win')">âœ•</button>
      </div>
    </div>
    <div class="window-content" style="background: #fff;">
      <div class="browser-toolbar">
        <button class="nav-btn">â—€</button> <button class="nav-btn">â–¶</button>
        <input type="text" class="url-bar" value="http://www.aero-utopia.net" readonly>
      </div>
      <div class="content-body" style="height: 100%; display: flex; align-items: center; justify-content: center; flex-direction: column;">
        <img src="../img/globe.png" style="width: 80px; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2)); margin-bottom: 20px;">
        <h2 style="color: #0078d7; margin: 0 0 10px 0;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ã¾ã›ã‚“</h2>
        <p style="color: #666; font-size: 13px;">ä»®æƒ³ç©ºé–“ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
      </div>
    </div>
  </div>

  <div class="aero-window" id="wmp-win" style="display: none; top: 45%; left: 55%; width: 500px;" onmousedown="bringToFront('wmp-win')">
    <div class="glass-highlight"></div>
    <div class="title-bar">
      <div class="title-text"><span class="title-icon">ğŸµ</span> Windows Media Player</div>
      <div class="window-controls">
        <button class="ctrl-btn min-btn">â€”</button>
        <button class="ctrl-btn max-btn">â–¡</button>
        <button class="ctrl-btn close-btn" onclick="closeAeroWindow('wmp-win')">âœ•</button>
      </div>
    </div>
    <div class="window-content" style="background: #111; color: #fff;">
      <div style="height: 150px; background: #000; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
        <div class="visualizer-bar" style="left: 30%; animation-delay: 0.1s;"></div>
        <div class="visualizer-bar" style="left: 40%; animation-delay: 0.3s;"></div>
        <div class="visualizer-bar" style="left: 50%; animation-delay: 0.2s;"></div>
        <div class="visualizer-bar" style="left: 60%; animation-delay: 0.5s;"></div>
        <div class="visualizer-bar" style="left: 70%; animation-delay: 0.4s;"></div>
      </div>
      <div style="padding: 15px; display: flex; align-items: center; justify-content: space-between; background: linear-gradient(to bottom, #333, #111);">
        <div>
          <h4 style="margin: 0; font-size: 14px; color: #55e6ff;">Aquatic Ambience.mp3</h4>
          <span style="font-size: 11px; color: #aaa;">Frutiger Aero Soundtrack</span>
        </div>
        <div style="display: flex; gap: 10px;">
          <button class="player-btn">â®</button>
          <button class="player-btn" style="transform: scale(1.2);">â–¶</button>
          <button class="player-btn">â­</button>
        </div>
      </div>
    </div>
  </div>

  <div class="start-menu" id="start-menu">
    <div class="user-profile-top">
      <div class="user-icon-frame"><div class="user-icon-inner">ğŸŒ¸</div></div>
    </div>
    <div class="start-menu-inner">
      <div class="start-menu-left">
        <div class="menu-item" onclick="location.href='../liminal/index.html'">
          <span class="menu-icon">ğŸšª</span> <div class="menu-text">Backrooms (Level 0)</div>
        </div>
        <div class="menu-item" onclick="location.href='../vaporwave/index.html'">
          <span class="menu-icon">ğŸ“¼</span> <div class="menu-text">Virtual Plaza</div>
        </div>
        <div class="menu-separator"></div>
        <div class="menu-item" onclick="openAeroWindow('ie-win'); toggleStartMenu();">
          <span class="menu-icon">ğŸŒ</span> <div class="menu-text">Internet Explorer</div>
        </div>
        <div class="menu-item" onclick="openAeroWindow('wmp-win'); toggleStartMenu();">
          <span class="menu-icon">ğŸµ</span> <div class="menu-text">Media Player</div>
        </div>
        
        <div class="start-search-box">
          <input type="text" placeholder="æ¤œç´¢ã®é–‹å§‹">
          <span class="search-icon">ğŸ”</span>
        </div>
      </div>
      <div class="start-menu-right">
        <div class="menu-item-right"><strong>Guest User</strong></div>
        <div class="menu-separator-right"></div>
        <div class="menu-item-right">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</div>
        <div class="menu-item-right">ãƒ”ã‚¯ãƒãƒ£</div>
        <div class="menu-item-right">ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯</div>
        <div class="menu-separator-right"></div>
        <div class="menu-item-right" onclick="openAeroWindow('welcome-win'); toggleStartMenu();">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« ãƒ‘ãƒãƒ«</div>
        <div class="power-section">
          <button class="power-btn">ğŸ”’</button>
          <button class="power-btn" style="color: #ff5555;">â»</button>
        </div>
      </div>
    </div>
  </div>

  <div class="taskbar">
    <div class="taskbar-glass"></div>
    <div class="start-orb-image" onclick="toggleStartMenu()" id="start-btn"></div>
    <div class="taskbar-items" id="taskbar-items">
      <div class="task-item active">âœ¨ ã‚¦ã‚§ãƒ«ã‚«ãƒ  ã‚»ãƒ³ã‚¿ãƒ¼</div>
    </div>
    <div class="tray">
      <span>ğŸŒ</span><span>ğŸ”Š</span><span id="taskbar-time">12:00</span>
    </div>
  </div>

  <script>
    // --- ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰ ---
    function toggleStartMenu() {
      const menu = document.getElementById('start-menu');
      menu.classList.toggle('active');
    }
    document.addEventListener('click', function(e) {
      const menu = document.getElementById('start-menu');
      const btn = document.getElementById('start-btn');
      if (!menu.contains(e.target) && !btn.contains(e.target)) {
        menu.classList.remove('active');
      }
    });

    // --- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒãƒ«ãƒã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¯¾å¿œï¼‰ ---
    let highestZIndex = 10; // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®é‡ãªã‚Šé †ã‚’ç®¡ç†

    function openAeroWindow(id) {
      const win = document.getElementById(id);
      win.style.display = 'flex';
      bringToFront(id);
    }

    function closeAeroWindow(id) {
      document.getElementById(id).style.display = 'none';
    }

    function bringToFront(id) {
      highestZIndex++;
      document.getElementById(id).style.zIndex = highestZIndex;
    }

    // --- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ãƒ‰ãƒ©ãƒƒã‚°å‡¦ç†ï¼ˆå…¨ã¦ã® .aero-window ã«é©ç”¨ï¼‰ ---
    const windows = document.querySelectorAll('.aero-window');
    windows.forEach(win => {
      const titleBar = win.querySelector('.title-bar');
      let isDragging = false, offsetX, offsetY;

      const startDrag = (clientX, clientY) => {
        isDragging = true;
        bringToFront(win.id); // ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã«ã‚‚æœ€å‰é¢ã¸
        const rect = win.getBoundingClientRect();
        offsetX = clientX - rect.left;
        offsetY = clientY - rect.top;
        win.style.transform = 'none';
        win.style.left = rect.left + 'px';
        win.style.top = rect.top + 'px';
      };

      titleBar.addEventListener('mousedown', (e) => {
        if(e.target.closest('.ctrl-btn')) return;
        startDrag(e.clientX, e.clientY);
      });
      titleBar.addEventListener('touchstart', (e) => {
        if(e.target.closest('.ctrl-btn')) return;
        startDrag(e.touches[0].clientX, e.touches[0].clientY);
      }, {passive: true});

      const moveDrag = (clientX, clientY) => {
        if(!isDragging) return;
        win.style.left = (clientX - offsetX) + 'px';
        win.style.top = (clientY - offsetY) + 'px';
      };

      document.addEventListener('mousemove', (e) => { if(isDragging) moveDrag(e.clientX, e.clientY); });
      document.addEventListener('touchmove', (e) => { if(isDragging) moveDrag(e.touches[0].clientX, e.touches[0].clientY); }, {passive: true});
      
      document.addEventListener('mouseup', () => { isDragging = false; });
      document.addEventListener('touchend', () => { isDragging = false; });
    });

    // --- æ™‚è¨ˆã®æ›´æ–° ---
    function updateClock() {
      const now = new Date();
      let h = now.getHours();
      const m = String(now.getMinutes()).padStart(2, '0');
      document.getElementById('taskbar-time').innerText = `${h}:${m}`;
      const sec = now.getSeconds(); const min = now.getMinutes(); const hr = now.getHours();
      document.getElementById('second-hand').style.transform = `translateX(-50%) rotate(${sec * 6}deg)`;
      document.getElementById('minute-hand').style.transform = `translateX(-50%) rotate(${min * 6 + sec * 0.1}deg)`;
      document.getElementById('hour-hand').style.transform = `translateX(-50%) rotate(${hr * 30 + min * 0.5}deg)`;
    }
    setInterval(updateClock, 1000); updateClock();
  </script>
</body>
</html>
