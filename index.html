<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tomoponzï½œãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</title>
  <meta name="description" content="tomoponzã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸" />

  <!-- â˜…æ›´æ–°æ™‚ã¯ v= ã®æ•°å­—ã‚’å¤‰ãˆã‚‹ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–ï¼‰ -->
  <link rel="stylesheet" href="style.css?v=20260220">
  <script defer src="app.js?v=20260220"></script>

  <style>
    /* indexå°‚ç”¨ã®å¾®èª¿æ•´ï¼ˆå¿…è¦ãªã‘ã‚Œã°æ¶ˆã—ã¦OKï¼‰ */
    .quoteBox{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      border-radius: 18px;
      padding: 16px;
    }
    .quoteText{ font-size: 18px; line-height: 1.7; margin: 0 0 8px; }
    .quoteBy{ opacity:.75; margin:0; }
    .btnrow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .btnlike{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 14px; border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      text-decoration:none; color: inherit;
      cursor:pointer;
    }
    .grid3{ display:grid; gap:14px; grid-template-columns: repeat(3, minmax(0,1fr)); }
    @media (max-width: 900px){ .grid3{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
  <header class="nav">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <b>tomoponz</b><br><small>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</small>
      </div>
    </div>

    <nav class="navlinks">
      <a class="chip" href="index.html">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a class="chip" href="omikuji.html">ãŠã¿ãã˜</a>
      <a class="chip" href="shindan.html">è¨ºæ–­</a>
      <a class="chip" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
      <a class="chip" href="links.html">ãƒªãƒ³ã‚¯</a>
      <a class="chip" href="games.html">ã‚²ãƒ¼ãƒ </a>
      <a class="chip" href="door.html">ãƒ‰ã‚¢</a>
      <a class="chip" href="hachi.html">å…«ç™¾ç§‘äº‹å…¸</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1 class="h1" style="margin:0">tomoponz</h1>
      <p class="sub">ç§˜å¯†åŸºåœ° / ãƒã‚¿ç½®ãå ´ / ãƒŸãƒ‹ã‚²ãƒ¼ãƒ  / ã„ã‚ã„ã‚</p>

      <div class="btnrow">
        <a class="btnlike" href="games.html">ã‚²ãƒ¼ãƒ ã¸</a>
        <a class="btnlike" href="links.html">ãƒªãƒ³ã‚¯é›†ã¸</a>
        <a class="btnlike" href="kuro.html">é»’æ­´å²ï¼ˆæ³¨æ„ï¼‰</a>
      </div>
    </section>

    <section class="grid2">
      <div class="card">
        <h2>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
        <ul class="list">
          <li>åå‰ï¼štomoponz</li>
          <li>ã‚„ã£ã¦ã‚‹ã“ã¨ï¼šWeb / ãƒã‚¿ / ã¡ã‚‡ã„ã‚²ãƒ¼ãƒ </li>
          <li>ãƒ¡ãƒ¢ï¼šã“ã®ã‚µã‚¤ãƒˆã¯æ°—åˆ†ã§å¢—ãˆã¾ã™</li>
        </ul>
        <div class="note">â€»å¥½ãã«è¿½è¨˜ã—ã¦OK</div>
      </div>

      <div class="card">
        <h2>ä»Šæ—¥ã®ä¸€è¨€ï¼ˆåè¨€ï¼‰</h2>

        <div class="quoteBox">
          <p class="quoteText" id="quoteText">èª­ã¿è¾¼ã¿ä¸­â€¦</p>
          <p class="quoteBy" id="quoteBy"></p>

          <div class="btnrow">
            <button class="btnlike" type="button" id="nextQuoteBtn">æ¬¡ã®åè¨€</button>
            <button class="btnlike" type="button" id="copyQuoteBtn">ã‚³ãƒ”ãƒ¼</button>
          </div>
        </div>

        <div class="note">
          å‰äººåè¨€ï¼‹ã‚ãªãŸã®åè¨€ï¼ˆuser_quotes.jsï¼‰ã‚’æ··ãœã‚‹æƒ³å®š
        </div>
      </div>
    </section>

    <section class="card">
      <h2>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</h2>
      <div class="grid3">
        <a class="btnlike" href="minigames.html">ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ä¸€è¦§</a>
        <a class="btnlike" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
        <a class="btnlike" href="door.html">ãƒ‰ã‚¢ï¼ˆãƒ¯ãƒ¼ãƒ—æ¼”å‡ºï¼‰</a>
      </div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆã“ã“ã«å¸¸ã«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤ºæ ã‚’ç½®ãï¼‰ -->
    <div class="footer">
      Â© tomoponz | <span id="access-count">Access: ...</span>
    </div>
  </main>

  <!-- â˜…ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ åè¨€ï¼ˆwindow.USER_QUOTESï¼‰ã‚’å…ˆã«èª­ã¿è¾¼ã‚€ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­– v= -->
  <script src="user_quotes.js?v=20260220"></script>

  <!-- =========================
       ä»Šæ—¥ã®ä¸€è¨€ï¼šåè¨€ãƒ­ãƒ¼ãƒ†
       - BASE_QUOTES + USER_QUOTES ã‚’åˆæµ
       ========================= -->
  <script>
    // å½¢å¼ï¼ˆãƒ™ãƒ¼ã‚¹ï¼‰ï¼š{ text: "åè¨€", by: "äººç‰©å" }
    // â€» Napoleon Hill ã‚’å‡ºã—ãŸããªã„ãªã‚‰ BASE_QUOTES ã‹ã‚‰æ¶ˆã›ã°äºŒåº¦ã¨å‡ºãªã„
    const BASE_QUOTES = [
      { text: "Stay hungry, stay foolish.", by: "Steve Jobs" },
      { text: "å®Œç’§ã‚’ç›®æŒ‡ã™ã‚ˆã‚Šã€å®Œæˆã‚’æ€¥ã’ã€‚", by: "Reid Hoffmanï¼ˆæ„è¨³ï¼‰" },
      { text: "å‹ã¤ã¾ã§ã‚„ã‚ãªã‘ã‚Œã°ã€è² ã‘ã§ã¯ãªã„ã€‚", by: "tomoponzï¼ˆä»®ï¼‰" }
    ];

    // user_quotes.js å´ã¯ã€ã“ã†ã„ã†å½¢å¼ã§ã‚‚OKï¼š
    // window.USER_QUOTES = [
    //   { text: "è¿·ã£ãŸã‚‰ã€å‹•ãã€‚", author: "tomoponz" },
    //   { text: "å¯ä¸è¶³ã®æ—¥ã¯ã€å‹ã¡ç­‹ã ã‘æ‹¾ã†ã€‚", author: "tomoponz" },
    // ];
    function normalizeUserQuote(q){
      if(!q || !q.text) return null;
      const by = q.by || q.author || q.character || "tomoponz";
      return { text: String(q.text), by: String(by) };
    }

    const USER_QUOTES = Array.isArray(window.USER_QUOTES)
      ? window.USER_QUOTES.map(normalizeUserQuote).filter(Boolean)
      : [];

    const QUOTES = [...BASE_QUOTES, ...USER_QUOTES];

    function pickQuote() {
      if (!QUOTES.length) return { text: "ï¼ˆåè¨€ãŒã¾ã ã‚ã‚Šã¾ã›ã‚“ï¼‰", by: "" };
      const idx = Math.floor(Math.random() * QUOTES.length);
      return QUOTES[idx];
    }

    function showQuote(q) {
      const qt = document.getElementById("quoteText");
      const qb = document.getElementById("quoteBy");
      if (!qt || !qb) return;
      qt.textContent = "â€œ" + q.text + "â€";
      qb.textContent = q.by ? "â€” " + q.by : "";
    }

    function loadQuote() {
      showQuote(pickQuote());
    }

    // ã‚³ãƒ”ãƒ¼ï¼ˆHTTPSã˜ã‚ƒãªã„æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä»˜ãï¼‰
    async function copyCurrentQuote(){
      const text = document.getElementById("quoteText")?.textContent || "";
      const by = document.getElementById("quoteBy")?.textContent || "";
      const payload = (text + "\n" + by).trim();

      try{
        await navigator.clipboard.writeText(payload);
        alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = payload;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        ta.style.top = "0";
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        try { document.execCommand("copy"); alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"); }
        catch { alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶è¨­å®šã®å¯èƒ½æ€§ï¼‰"); }
        document.body.removeChild(ta);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      loadQuote();
      document.getElementById("nextQuoteBtn")?.addEventListener("click", loadQuote);
      document.getElementById("copyQuoteBtn")?.addEventListener("click", copyCurrentQuote);
    });
  </script>

  <!-- =========================
       ã‚­ãƒªç•ªï¼ˆCounterAPIï¼‰
       index.html ã®ã¿ã§å®Œçµ
       ========================= -->
  <script>
    const WORKSPACE = "tomoponzs-workspace";
    const COUNTER = "first-counter";

    async function updateCounter() {
      try {
        // 1) é–‹ã„ãŸã‚‰ã‚«ã‚¦ãƒ³ãƒˆ +1
        const res = await fetch(`https://api.counterapi.dev/v1/${WORKSPACE}/${COUNTER}/up`);
        const data = await res.json();
        const count = parseInt(data.count, 10);

        // 2) å¸¸ã«è¡¨ç¤ºï¼ˆè¿½è¨˜ã˜ã‚ƒãªãä¸Šæ›¸ãï¼‰
        const accessEl = document.getElementById("access-count");
        if (accessEl) accessEl.textContent = `Access: ${count}`;

        // 3) ã‚­ãƒªç•ªãƒªã‚¹ãƒˆ
        const luckyNumbers = [7, 10, 22, 50, 77, 100, 123, 777, 1000];

        // 4) ç™ºå‹•
        if (luckyNumbers.includes(count)) triggerKiribanEvent(count);

      } catch (e) {
        console.log("ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç§˜å¯†åŸºåœ°ã¯ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã®ã‚ˆã†ã§ã™ã€‚");
        const accessEl = document.getElementById("access-count");
        if (accessEl) accessEl.textContent = "Access: (offline)";
      }
    }

    function triggerKiribanEvent(num) {
      alert(
        `ã€ğŸŠ ç¥ãƒ»ã‚­ãƒªç•ªé”æˆ ğŸŠã€‘\n` +
        `ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ã‚ãªãŸã¯ ${num} ç•ªç›®ã®è¨ªå•è€…ã§ã™ï¼\n` +
        `ã“ã®ç”»é¢ã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦åº—ä¸»ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚`
      );

      document.body.style.transition = "all 2s ease";
      document.body.style.background = "linear-gradient(45deg, #ffd700, #ff8c00)";
      document.body.style.color = "#000";

      const bars = document.querySelectorAll(".bar i");
      bars.forEach(bar => {
        bar.style.background = "linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet)";
        bar.style.width = "100%";
      });

      console.log(
        "%cç§˜å¯†ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã‚ãªãŸã¯é¸ã°ã‚Œã—è€…ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®è£å´ã‚’è¦—ãã¨ã¯ã€ãªã‹ãªã‹ã®æ‰‹ç·´ã‚Œã§ã™ã­ã€‚",
        "color: gold; font-size: 20px; font-weight: bold;"
      );
    }

    window.addEventListener("load", updateCounter);
  </script>
</body>
</html>
