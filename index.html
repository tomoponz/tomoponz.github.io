<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tomoponzï½œãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</title>
  <meta name="description" content="tomoponzã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸" />

  <!-- â˜…æ›´æ–°æ™‚ã¯ v= ã®æ•°å­—ã‚’å¤‰ãˆã‚‹ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–ï¼‰ -->
  <link rel="stylesheet" href="style.css?v=20260220">

  <style>
    .quoteBox{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      border-radius: 18px;
      padding: 16px;
    }
    .quoteText{ font-size: 18px; line-height: 1.7; margin: 0 0 8px; }
    .quoteBy{ opacity:.75; margin:0; }
    .btnrow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .btnlike{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 14px; border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      text-decoration:none; color: inherit;
      cursor:pointer;
    }
    .grid3{ display:grid; gap:14px; grid-template-columns: repeat(3, minmax(0,1fr)); }
    @media (max-width: 900px){ .grid3{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
  <header class="nav">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <b>tomoponz</b><br><small>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</small>
      </div>
    </div>

    <nav class="navlinks">
      <a class="chip" href="index.html">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a class="chip" href="omikuji.html">ãŠã¿ãã˜</a>
      <a class="chip" href="shindan.html">è¨ºæ–­</a>
      <a class="chip" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
      <a class="chip" href="links.html">ãƒªãƒ³ã‚¯</a>
      <a class="chip" href="games.html">ã‚²ãƒ¼ãƒ </a>
      <a class="chip" href="door.html">ãƒ‰ã‚¢</a>
      <a class="chip" href="hachi.html">å…«ç™¾ç§‘äº‹å…¸</a>
    </nav>
  </header>

  <main class="wrap">
    <main class="wrap">
    
    <div style="text-align: center; margin-bottom: 20px;">
      <button id="dangerBtn" style="background: rgba(255,0,0,0.1); border: 2px solid #ff4444; color: #ff8888; padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 0 15px rgba(255,0,0,0.3); letter-spacing: 0.1em; transition: 0.2s;">
        âš ï¸ çµ¶å¯¾ã«æŠ¼ã™ãª
      </button>
    </div>
    <section class="hero">
      <h1 class="h1" style="margin:0">tomoponz</h1>
    <section class="hero">
      <h1 class="h1" style="margin:0">tomoponz</h1>
      <p class="sub">ç§˜å¯†åŸºåœ° / ãƒã‚¿ç½®ãå ´ / ãƒŸãƒ‹ã‚²ãƒ¼ãƒ  / ã„ã‚ã„ã‚</p>

      <div class="btnrow">
        <a class="btnlike" href="games.html">ã‚²ãƒ¼ãƒ ã¸</a>
        <a class="btnlike" href="links.html">ãƒªãƒ³ã‚¯é›†ã¸</a>
        <a class="btnlike" href="kuro.html">é»’æ­´å²ï¼ˆæ³¨æ„ï¼‰</a>
      </div>
    </section>

    <section class="grid2">
      <div class="card">
        <h2>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
        <ul class="list">
          <li>åå‰ï¼štomoponz</li>
          <li>ã‚„ã£ã¦ã‚‹ã“ã¨ï¼šWeb / ãƒã‚¿ / ã¡ã‚‡ã„ã‚²ãƒ¼ãƒ </li>
          <li>ãƒ¡ãƒ¢ï¼šã“ã®ã‚µã‚¤ãƒˆã¯æ°—åˆ†ã§å¢—ãˆã¾ã™</li>
        </ul>
        <div class="note">â€»å¥½ãã«è¿½è¨˜ã—ã¦OK</div>
      </div>

      <div class="card">
        <h2>ä»Šæ—¥ã®ä¸€è¨€ï¼ˆåè¨€ï¼‰</h2>

        <div class="quoteBox">
          <p class="quoteText" id="quoteText">èª­ã¿è¾¼ã¿ä¸­â€¦</p>
          <p class="quoteBy" id="quoteBy"></p>

          <div class="btnrow">
            <button class="btnlike" type="button" id="nextQuoteBtn">æ¬¡ã®åè¨€</button>
            <button class="btnlike" type="button" id="copyQuoteBtn">ã‚³ãƒ”ãƒ¼</button>
          </div>
        </div>

        <div class="note">
          meigen ã® BASE_QUOTES + user_quotes.js ã‚’æ··ãœã‚‹
        </div>
      </div>
    </section>

    <section class="card">
      <h2>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</h2>
      <div class="grid3">
        <a class="btnlike" href="minigames.html">ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ä¸€è¦§</a>
        <a class="btnlike" href="gallery.html">ãƒã‚¿ç½®ãå ´</a>
        <a class="btnlike" href="door.html">ãƒ‰ã‚¢ï¼ˆãƒ¯ãƒ¼ãƒ—æ¼”å‡ºï¼‰</a>
      </div>
    </section>

    <div class="footer">
      Â© tomoponz | <span id="access-count">Access: ...</span>
    </div>
  </main>

  <!-- âœ… app.js ã¯ã“ã“ã¸ç§»å‹•ï¼ˆä¸Šæ›¸ãäº‹æ•…ã‚’é¿ã‘ã‚‹ï¼‰ -->
  <script src="app.js?v=20260220"></script>

  <!-- âœ… å…±é€šåè¨€ + ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ ï¼ˆ1å›ãšã¤ï¼‰ -->
  <script src="quotes_base.js?v=20260220"></script>
  <script src="user_quotes.js?v=20260220"></script>

  <!-- ä»Šæ—¥ã®ä¸€è¨€ãƒ­ãƒ¼ãƒ†ï¼ˆBASE+USERï¼‰ -->
  <script>
    const BASE = Array.isArray(window.BASE_QUOTES) ? window.BASE_QUOTES : [];

    function normalizeUserQuote(q){
      if(!q || !q.text) return null;
      return {
        text: String(q.text),
        work: String(q.work || "User"),
        character: String(q.character || q.author || "tomoponz"),
        tags: Array.isArray(q.tags) ? q.tags : []
      };
    }

    const USER = Array.isArray(window.USER_QUOTES)
      ? window.USER_QUOTES.map(normalizeUserQuote).filter(Boolean)
      : [];

    const QUOTES = [...BASE, ...USER];

    function pickQuote() {
      if (QUOTES.length === 0) return { text:"(åè¨€ãƒ‡ãƒ¼ã‚¿ãŒç©º)", work:"", character:"" };
      return QUOTES[Math.floor(Math.random() * QUOTES.length)];
    }

    function showQuote(q) {
      const qt = document.getElementById("quoteText");
      const qb = document.getElementById("quoteBy");
      if (!qt || !qb) return;

      qt.textContent = "â€œ" + q.text + "â€";
      const meta = [];
      if (q.character) meta.push(q.character);
      if (q.work) meta.push(`ï¼ˆ${q.work}ï¼‰`);
      qb.textContent = meta.length ? "â€” " + meta.join("") : "";
    }

    function loadQuote(){ showQuote(pickQuote()); }

    async function copyCurrent(){
      const text = document.getElementById("quoteText")?.textContent || "";
      const by = document.getElementById("quoteBy")?.textContent || "";
      const payload = (text + "\n" + by).trim();
      try{
        await navigator.clipboard.writeText(payload);
        alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
      }catch{
        const ta = document.createElement("textarea");
        ta.value = payload;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.focus(); ta.select();
        try{ document.execCommand("copy"); alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"); }catch{ alert("ã‚³ãƒ”ãƒ¼å¤±æ•—"); }
        document.body.removeChild(ta);
      }
    }

    // âœ… app.js ã‚ˆã‚Šå¾Œã«ã€æœ€å¾Œã«ç¢ºå®Ÿã«åæ˜ 
    window.addEventListener("load", () => {
      loadQuote();
      document.getElementById("nextQuoteBtn")?.addEventListener("click", loadQuote);
      document.getElementById("copyQuoteBtn")?.addEventListener("click", copyCurrent);
    });
  </script>

  <!-- ã‚­ãƒªç•ªï¼ˆCounterAPIï¼‰ -->
  <script>
    const WORKSPACE = "tomoponzs-workspace";
    const COUNTER = "first-counter";

    async function updateCounter() {
      try {
        const res = await fetch(`https://api.counterapi.dev/v1/${WORKSPACE}/${COUNTER}/up`);
        const data = await res.json();
        const count = parseInt(data.count, 10);

        const accessEl = document.getElementById("access-count");
        if (accessEl) accessEl.textContent = `Access: ${count}`;

        const luckyNumbers = [7, 10, 22, 50, 77, 100, 123, 777, 1000];
        if (luckyNumbers.includes(count)) triggerKiribanEvent(count);

      } catch (e) {
        console.log("ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç§˜å¯†åŸºåœ°ã¯ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã®ã‚ˆã†ã§ã™ã€‚");
        const accessEl = document.getElementById("access-count");
        if (accessEl) accessEl.textContent = "Access: (offline)";
      }
    }

    function triggerKiribanEvent(num) {
      alert(
        `ã€ğŸŠ ç¥ãƒ»ã‚­ãƒªç•ªé”æˆ ğŸŠã€‘\n` +
        `ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ã‚ãªãŸã¯ ${num} ç•ªç›®ã®è¨ªå•è€…ã§ã™ï¼\n` +
        `ã“ã®ç”»é¢ã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦åº—ä¸»ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚`
      );
      document.body.style.transition = "all 2s ease";
      document.body.style.background = "linear-gradient(45deg, #ffd700, #ff8c00)";
      document.body.style.color = "#000";
      const bars = document.querySelectorAll(".bar i");
      bars.forEach(bar => {
        bar.style.background = "linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet)";
        bar.style.width = "100%";
      });
    }

    window.addEventListener("load", updateCounter);
  </script>
    <script>
    // çµ¶å¯¾ã«æŠ¼ã—ã¦ã¯ã„ã‘ãªã„ãƒœã‚¿ãƒ³ã®å‡¦ç†
    const dangerBtn = document.getElementById("dangerBtn");
    if (dangerBtn) {
      dangerBtn.addEventListener("click", () => {
        if (!confirm("è­¦å‘Šï¼šçµ¶å¯¾ã«æŠ¼ã™ãªã¨è¨€ã„ã¾ã—ãŸã‚ˆã­ï¼Ÿæœ¬å½“ã«å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ")) return;
        if (!confirm("å¾Œæ‚”ã—ã¾ã™ã‚ˆã€‚æœ¬å½“ã«ã„ã„ã‚“ã§ã™ã­ï¼Ÿ")) return;
        if (!confirm("æœ€çµ‚è­¦å‘Šã§ã™ã€‚ã“ã®å…ˆã€ä½•ãŒèµ·ãã¦ã‚‚ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚")) return;
        
        document.body.classList.add("glitch-mode");
        
        setTimeout(() => {
          alert("â€¦â€¦ãã†ã§ã™ã‹ã€‚"); // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸æ°—å‘³ã«å¤‰æ›´
          location.href = "horror.html"; // è¡Œãå…ˆã‚’ horror.html ã«å¤‰æ›´
        }, 1500);
      });
      
      dangerBtn.addEventListener("mouseenter", () => {
        dangerBtn.style.transform = "translate(2px, -2px)";
        setTimeout(() => dangerBtn.style.transform = "translate(-2px, 2px)", 50);
        setTimeout(() => dangerBtn.style.transform = "translate(0, 0)", 100);
      });
    }
    </script>
    
</body>
</html>
