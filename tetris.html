<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tomoponz｜テトリス</title>
  <meta name="description" content="ブラウザで遊べるテトリス">

  <link rel="stylesheet" href="style.css?v=20260223">
  <script defer src="app.js?v=20260224-3"></script>
  <script defer src="tetris.js?v=20260222"></script>

  <style>
    .tWrap{display:grid; gap:12px}
    @media (min-width:980px){ .tWrap{grid-template-columns: 1fr 0.9fr} }

    .canvasBox{display:grid; gap:10px; align-items:start}
    .canvasFrame{
      width:min(420px, 100%);
      margin:0 auto;
      padding:12px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      box-shadow:0 18px 60px rgba(0,0,0,.25);
    }
    canvas{display:block; width:100%; height:auto; border-radius:14px; background:rgba(0,0,0,.35); touch-action:none; overscroll-behavior:none;}

    .hud{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin-top:8px}
    .hud .meter{display:flex; gap:10px; flex-wrap:wrap}

    .pad{display:grid; gap:10px; margin-top:10px}
    .padRow{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
    .pad .btn{min-width:110px}
    .pad .btn.big{min-width:160px}

    .kbd{font-size:12px; color:rgba(234,241,255,.70)}

    @media (max-width:780px){
      .pad .btn{min-width:92px; padding:12px 10px}
      .pad .btn.big{min-width:140px}
    }
  </style>
</head>

<body>
  <header class="nav">
    <a class="brand" href="index.html" aria-label="tomoponz ホーム">
      <span class="logo" aria-hidden="true"></span>
      <span class="brandText">
        <span class="brandName">tomoponz</span>
        <span class="brandSub" id="brandSub"></span>
      </span>
    </a>

    <nav class="navlinks" aria-label="メニュー">
      <a class="chip" href="index.html">プロフィール</a>
      <a class="chip" href="omikuji.html">おみくじ</a>
      <a class="chip" href="shindan.html">診断</a>
      <a class="chip" href="gallery.html">ネタ置き場</a>
      <a class="chip" href="links.html">リンク</a>
      <a class="chip" href="games.html">ゲーム</a>
      <a class="chip" href="door.html">ドア</a>
      <a class="chip" href="hachi.html">八百科事典</a>
    
      <a class="chip" href="staff.html">スタッフロール</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1 class="h1">テトリス</h1>
      <p class="sub">落として揃えて消す。それだけ。スマホでも遊べる。</p>
      <div class="badges">
        <span class="badge"><span class="dot"></span>Mini Game</span>
        <span class="badge">Canvas</span>
      </div>
    </section>

    <section class="tWrap" style="margin-top:12px">
      <div class="card">
        <div class="hud">
          <div class="meter">
            <span class="pill">Score：<b id="tScore">0</b></span>
            <span class="pill">Lines：<b id="tLines">0</b></span>
            <span class="pill">Level：<b id="tLevel">1</b></span>
            <span class="pill">Best：<b id="tBest">0</b></span>
          </div>
          <div class="meter">
            <span class="pill">状態：<b id="tState">READY</b></span>
          </div>
        </div>

        <div class="canvasBox" style="margin-top:12px">
          <div class="canvasFrame">
            <canvas id="tetrisCanvas" width="240" height="480" aria-label="tetris"></canvas>
          </div>

          <div class="pad" id="tPad">
            <div class="padRow">
              <button class="btn" id="btnLeft">← 左</button>
              <button class="btn" id="btnRight">右 →</button>
            </div>
            <div class="padRow">
              <button class="btn" id="btnDown">↓ 下</button>
              <button class="btn" id="btnRot">⟳ 回転</button>
            </div>
            <div class="padRow">
              <button class="btn big" id="btnDrop">SPACE 落下</button>
              <button class="btn" id="btnPause">P 一時停止</button>
            </div>
            <div class="padRow">
              <button class="btn" id="btnStart">START</button>
              <button class="btn" id="btnRestart">R リスタート</button>
            </div>
            <div class="kbd">
              PC：←→ 移動 / ↓ ソフト / ↑ or X 回転 / SPACE ハード / P 一時停止 / R リスタート
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>NEXT</h2>
        <div class="canvasFrame" style="width:min(220px,100%); margin:0">
          <canvas id="nextCanvas" width="120" height="120" aria-label="next"></canvas>
        </div>
        <hr class="sep">
        <h2>ルール</h2>
        <ul class="list">
          <li>横一列を埋めると消える。</li>
          <li>まとめて消すほどスコアが伸びる。</li>
          <li>10ラインごとにレベルが上がって速くなる。</li>
        </ul>
        <hr class="sep">
        <a class="btn" href="games.html">ゲーム一覧へ戻る</a>
      </div>
    </section>

    <div class="footer">© tomoponz / Tetris</div>
  </main>
</body>
</html>
